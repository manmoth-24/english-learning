<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect the Dots - Full Version</title>
    <style>
        /* --- ãƒ‡ã‚¶ã‚¤ãƒ³å®šç¾© --- */
        :root {
            --primary-color: #007bff;
            --bg-color: #f4f6f8;
            --card-bg: #ffffff;
            --text-color: #333;
            --accent-color: #ff9800;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            padding-bottom: 100px;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            background: #fff;
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        h1 { margin: 0; font-size: 1.2rem; }

        /* ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .tab-nav {
            display: flex;
            justify-content: space-around;
            background: #fff;
            padding: 0;
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        .tab-btn {
            flex: 1;
            border: none;
            background: none;
            font-weight: bold;
            color: #888;
            padding: 15px 0;
            cursor: pointer;
            font-size: 0.95rem;
            position: relative;
        }
        .tab-btn.active {
            color: var(--primary-color);
        }
        .tab-btn.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 20%;
            width: 60%;
            height: 3px;
            background-color: var(--primary-color);
        }

        /* ã‚³ãƒ³ãƒ†ãƒŠ */
        .container {
            max-width: 700px;
            margin: 0 auto;
            padding: 0 15px;
        }
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- ã‚¯ã‚¤ã‚ºã‚¨ãƒªã‚¢ --- */
        .quiz-container {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 12px;
            padding: 20px;
            color: white;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(118, 75, 162, 0.3);
        }
        .quiz-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem; opacity: 0.9;}
        .quiz-question { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; }
        .quiz-options button {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.9);
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            text-align: left;
        }
        .quiz-options button:hover { background: #fff; transform: translateX(5px); }
        .quiz-feedback { margin-top: 10px; font-weight: bold; min-height: 1.5em; }

        /* --- å…¨æ–‡è¡¨ç¤º (Full Text) ã‚¹ã‚¿ã‚¤ãƒ« --- */
        .full-text-paper {
            background: white;
            padding: 30px 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            font-family: Georgia, "Times New Roman", Times, serif; 
            line-height: 2.0;
            font-size: 1.1rem;
            color: #222;
        }
        .full-text-paper h2 { 
            font-size: 1.4rem; 
            border-bottom: 2px solid #eee; 
            padding-bottom: 15px; 
            margin-bottom: 25px;
            text-align: center;
        }
        .full-text-paper p { margin-bottom: 2em; }
        
        /* ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å˜èª */
        .interactive-word {
            color: #0056b3;
            font-weight: bold;
            border-bottom: 2px dotted #0056b3;
            cursor: pointer;
            transition: 0.2s;
            padding: 0 2px;
            background-color: rgba(0, 123, 255, 0.05);
            border-radius: 4px;
        }
        .interactive-word:hover {
            background-color: #e7f3ff;
        }

        /* --- å˜èªè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« (ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—) --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(3px);
        }
        .modal-overlay.open { display: flex; }
        
        .word-card-modal {
            background: white;
            width: 90%;
            max-width: 400px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
            animation: popUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popUp {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-word { font-size: 1.8rem; font-weight: bold; display: block; margin-bottom: 5px; color: var(--primary-color); }
        .modal-meaning { font-size: 1.1rem; color: #333; margin-bottom: 20px; display: block; font-weight: bold;}
        .modal-desc { font-size: 0.9rem; color: #666; margin-bottom: 20px; line-height: 1.5; text-align: left; background: #f9f9f9; padding: 10px; border-radius: 8px;}
        
        .modal-close {
            position: absolute; top: 10px; right: 15px; font-size: 1.5rem; cursor: pointer; color: #999;
        }
        .speak-btn-large {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,123,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 0 auto;
        }
        .speak-btn-large:hover { background: #0069d9; }

        /* SNSé¢¨ãƒ•ã‚£ãƒ¼ãƒ‰ç°¡æ˜“ç‰ˆ */
        .feed-item { background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .feed-user { display: flex; align-items: center; margin-bottom: 10px; font-weight: bold; }
        .feed-avatar { width: 35px; height: 35px; background: #333; border-radius: 50%; margin-right: 10px; color: white; display: flex; align-items: center; justify-content: center; font-size: 0.8rem;}

    </style>
</head>
<body>

    <header>
        <h1>Story 1: Connecting the Dots</h1>
    </header>

    <nav class="tab-nav">
        <button class="tab-btn active" onclick="switchTab('fulltext')">Full Text (å…¨æ–‡)</button>
        <button class="tab-btn" onclick="switchTab('quiz')">Quiz (å•é¡Œ)</button>
        <button class="tab-btn" onclick="switchTab('feed')">Discussion (SNS)</button>
    </nav>

    <div class="container">

        <div id="tab-fulltext" class="tab-content active">
            <div class="full-text-paper">
                <h2>The First Story</h2>
                
                <p>
                    I am honored to be with you today at your <span class="interactive-word" onclick="openWord('commencement')">commencement</span> from one of the finest universities in the world. I never graduated from college. Truth be told, this is the closest I've ever gotten to a college graduation. Today I want to tell you three stories from my life. Thatâ€™s it. No big deal. Just three stories.
                </p>

                <p>
                    The first story is about <span class="interactive-word" onclick="openWord('connecting_the_dots')">connecting the dots</span>.
                </p>

                <p>
                    I dropped out of Reed College after the first six months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I <span class="interactive-word" onclick="openWord('drop_out')">drop out</span>?
                </p>

                <p>
                    It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife. Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: â€œWe have an unexpected baby boy; do you want him?â€ They said: â€œOf course.â€ My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.
                </p>

                <p>
                    And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parents' savings were being spent on my college tuition. After six months, I couldn't see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me <span class="interactive-word" onclick="openWord('figure_out')">figure it out</span>. And here I was spending all of the money my parents had saved their entire life. So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didn't interest me, and begin dropping in on the ones that looked interesting.
                </p>
                
                <p>
                   It wasn't all romantic. I didn't have a dorm room, so I slept on the floor in friends' rooms, I returned coke bottles for the 5Â¢ deposits to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. And much of what I stumbled into by following my curiosity and <span class="interactive-word" onclick="openWord('intuition')">intuition</span> turned out to be priceless later on. Let me give you one example.
                </p>

                <p>
                   Reed College at that time offered perhaps the best <span class="interactive-word" onclick="openWord('calligraphy')">calligraphy</span> instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didn't have to take the normal classes, I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great <span class="interactive-word" onclick="openWord('typography')">typography</span> great. It was beautiful, historical, artistically subtle in a way that science can't capture, and I found it fascinating.
                </p>

                <p style="text-align:center; color:#999; font-size:0.9rem;">( ... ã‚¿ãƒƒãƒ—ã—ã¦å˜èªã‚’èª¿ã¹ãªãŒã‚‰èª­ã¿é€²ã‚ã¾ã—ã‚‡ã† ... )</p>
            </div>
        </div>

        <div id="tab-quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <span>Reading Comprehension</span>
                    <span id="quiz-progress">Q. 1 / 3</span>
                </div>
                
                <div id="quiz-content">
                    <div class="quiz-question" id="q-text">Loading...</div>
                    <div class="quiz-options" id="q-options"></div>
                    <div class="quiz-feedback" id="q-feedback"></div>
                    <button id="next-btn" style="display:none; margin-top:15px; background:white; color:#333; border:none; padding:10px 20px; border-radius:20px; cursor:pointer; font-weight:bold;" onclick="nextQuestion()">Next Question â†’</button>
                </div>
            </div>
            
            <p style="text-align:center; color:#666; font-size:0.9rem;">å…¨å•æ­£è§£ã—ã¦ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã‚ˆã†ï¼</p>
        </div>

        <div id="tab-feed" class="tab-content">
            <div class="feed-item">
                <div class="feed-user"><div class="feed-avatar">S</div>User A</div>
                <p>Hare Krishna templeã£ã¦ä½•ï¼Ÿå®—æ•™æ–½è¨­ï¼Ÿ</p>
                <div style="font-size:0.8rem; color:#666; margin-top:5px;">ğŸ’¬ 2 comments</div>
            </div>
            <div class="feed-item">
                <div class="feed-user"><div class="feed-avatar">K</div>User B</div>
                <p>ã‚³ãƒ¼ãƒ©ã®ç“¶ã‚’è¿”å´ã—ã¦5ã‚»ãƒ³ãƒˆã‚‚ã‚‰ã†ç”Ÿæ´»ã€ä»Šã®ã‚¸ãƒ§ãƒ–ã‚ºã‹ã‚‰ã¯æƒ³åƒã§ããªã„ãª...</p>
                <div style="font-size:0.8rem; color:#666; margin-top:5px;">ğŸ’¬ 5 comments â€¢ â™¥ 12 likes</div>
            </div>
            <div class="feed-item">
                <div class="feed-user"><div class="feed-avatar">T</div>Teacher</div>
                <p>ã€Œç‚¹ã¨ç‚¹ã‚’ã¤ãªãã€ã¯ã€å¾Œã«ãªã£ã¦æŒ¯ã‚Šè¿”ã‚‰ãªã„ã¨åˆ†ã‹ã‚‰ãªã„ã€ã¨ã„ã†æ„å‘³ã ã‚ˆã€‚</p>
            </div>
        </div>

    </div>

    <div class="modal-overlay" id="wordModal" onclick="closeModal(event)">
        <div class="word-card-modal" onclick="event.stopPropagation()">
            <span class="modal-close" onclick="closeModalDirect()">Ã—</span>
            <span class="modal-word" id="m-word">Word</span>
            <span class="modal-meaning" id="m-meaning">Meaning</span>
            <div class="modal-desc" id="m-desc">Description goes here...</div>
            <button class="speak-btn-large" onclick="playCurrentWord()">
                ğŸ”Š Listen
            </button>
        </div>
    </div>

    <script>
        // --- ãƒ‡ãƒ¼ã‚¿: å˜èªãƒªã‚¹ãƒˆ ---
        const wordData = {
            'commencement': {
                meaning: 'å’æ¥­å¼ã€é–‹å§‹',
                desc: 'å¤§å­¦ãªã©ã®å­¦ä½æˆä¸å¼ã®ã“ã¨ã€‚Commenceï¼ˆé–‹å§‹ã™ã‚‹ï¼‰ã¨ã„ã†å‹•è©ã®åè©å½¢ã§ã‚‚ã‚ã‚Šã€ã€Œå’æ¥­ã¯æ–°ãŸãªæ—…ã®å§‹ã¾ã‚Šã€ã¨ã„ã†ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ãŒå«ã¾ã‚Œã‚‹ã€‚'
            },
            'connecting_the_dots': {
                meaning: 'ç‚¹ã¨ç‚¹ã‚’ã¤ãªã',
                desc: 'ä¸€è¦‹ç„¡é–¢ä¿‚ã«è¦‹ãˆã‚‹éå»ã®çµŒé¨“ï¼ˆç‚¹ï¼‰ãŒã€å°†æ¥ã«ãŠã„ã¦çµã³ã¤ãæ„å‘³ã‚’æŒã¤ã“ã¨ã€‚ã‚¸ãƒ§ãƒ–ã‚ºã®å“²å­¦ã®ä¸­å¿ƒã¨ãªã‚‹æ¦‚å¿µã€‚'
            },
            'drop_out': {
                meaning: 'ä¸­é€€ã™ã‚‹',
                desc: 'å­¦æ ¡ã‚„çµ„ç¹”ã‹ã‚‰é€”ä¸­ã§æŠœã‘ã‚‹ã“ã¨ã€‚ã‚¸ãƒ§ãƒ–ã‚ºã¯ã€ŒDrop outï¼ˆä¸­é€€ï¼‰ã€ã—ãŸå¾Œã€ã€ŒDrop inï¼ˆèˆˆå‘³ã®ã‚ã‚‹æˆæ¥­ã«æ½œã‚Šè¾¼ã‚€ï¼‰ã€ã—å§‹ã‚ãŸã¨è¨€ã£ã¦ã„ã‚‹ã€‚'
            },
            'figure_out': {
                meaning: 'ç†è§£ã™ã‚‹ã€è§£æ±ºã™ã‚‹',
                desc: 'è€ƒãˆãŸæœ«ã«ç­”ãˆã‚’è¦‹ã¤ã‘å‡ºã™ã“ã¨ã€‚Understandã‚ˆã‚Šã‚‚ã€Œè‡ªåˆ†ã§ç­”ãˆã‚’å°ãå‡ºã™ã€ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ãŒå¼·ã„ã€‚'
            },
            'intuition': {
                meaning: 'ç›´æ„Ÿ',
                desc: 'ç†å±ˆã§ã¯ãªãæ„Ÿè¦šã§ç‰©äº‹ã‚’æ‰ãˆã‚‹åŠ›ã€‚ã‚¸ãƒ§ãƒ–ã‚ºã¯è«–ç†ã‚ˆã‚Šã‚‚ã“ã®ç›´æ„Ÿã‚’å¤§åˆ‡ã«ã—ãŸã€‚'
            },
            'calligraphy': {
                meaning: 'ã‚«ãƒªã‚°ãƒ©ãƒ•ã‚£ãƒ¼',
                desc: 'è¥¿æ´‹ã®æ›¸é“ã€‚æ–‡å­—ã‚’ç¾ã—ãè¦‹ã›ã‚‹ãŸã‚ã®æ‰‹æ³•ã€‚ã“ã‚ŒãŒå¾Œã®Macintoshã®ç¾ã—ã„ãƒ•ã‚©ãƒ³ãƒˆæ©Ÿèƒ½ã«ã¤ãªãŒã£ãŸã€‚'
            },
            'typography': {
                meaning: 'ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£',
                desc: 'æ´»å­—ã®æ›¸ä½“ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„é…ç½®ã®ã“ã¨ã€‚'
            }
        };

        // --- ãƒ‡ãƒ¼ã‚¿: ã‚¯ã‚¤ã‚ºãƒªã‚¹ãƒˆ ---
        const questions = [
            {
                q: "Q1. ã‚¸ãƒ§ãƒ–ã‚ºãŒå¤§å­¦ã‚’ä¸­é€€ã—ãŸä¸»ãªç†ç”±ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                options: ["å‹‰å¼·ã«ã¤ã„ã¦ã„ã‘ãªã‹ã£ãŸã‹ã‚‰", "ä¸¡è¦ªã®è²¯é‡‘ã‚’æµªè²»ã—ã¦ã„ã‚‹ã ã‘ã§ã€ä¾¡å€¤ãŒè¦‹å‡ºã›ãªã‹ã£ãŸã‹ã‚‰", "èµ·æ¥­ã®æº–å‚™ã‚’ã—ãŸã‹ã£ãŸã‹ã‚‰"],
                ans: 1, // index of correct answer
                feedback: "æ­£è§£ï¼é«˜é¡ãªæˆæ¥­æ–™ã«è¦‹åˆã†ä¾¡å€¤ãŒåˆ†ã‹ã‚‰ãšã€ä¸¡è¦ªã®è²¯é‡‘ã‚’ä½¿ã„æœãŸã™ã®ã‚’é¿ã‘ã‚‹ãŸã‚ã«æ±ºæ–­ã—ã¾ã—ãŸã€‚"
            },
            {
                q: "Q2. ä¸­é€€ã—ãŸå¾Œã€ã‚¸ãƒ§ãƒ–ã‚ºã¯ä½•ã‚’ã—ã¦ã„ã¾ã—ãŸã‹ï¼Ÿ",
                options: ["ã™ãã«Appleã‚’å‰µæ¥­ã—ãŸ", "èˆˆå‘³ã®ãªã„å¿…é ˆç§‘ç›®ã‚’ã‚„ã‚ã¦ã€ã‚«ãƒªã‚°ãƒ©ãƒ•ã‚£ãƒ¼ãªã©ã®æˆæ¥­ã«æ½œã‚Šè¾¼ã‚“ã ", "å®Ÿå®¶ã«å¸°ã£ã¦ä¼‘ã‚“ã "],
                ans: 1,
                feedback: "Correct! ã€ŒDrop outã€ã—ãŸã‹ã‚‰ã“ãã€èˆˆå‘³ã®ã‚ã‚‹ã‚¯ãƒ©ã‚¹ã«ã€ŒDrop inã€ã§ããŸã¨èªã£ã¦ã„ã¾ã™ã€‚"
            },
            {
                q: "Q3. ã‚«ãƒªã‚°ãƒ©ãƒ•ã‚£ãƒ¼ã®çŸ¥è­˜ã¯å¾Œã«ä½•ã«å½¹ç«‹ã¡ã¾ã—ãŸã‹ï¼Ÿ",
                options: ["Macintoshã®ç¾ã—ã„ãƒ•ã‚©ãƒ³ãƒˆæ©Ÿèƒ½", "Appleã®ãƒ­ã‚´ãƒ‡ã‚¶ã‚¤ãƒ³", "Pixarã®æ˜ ç”»åˆ¶ä½œ"],
                ans: 0,
                feedback: "ãã®é€šã‚Šï¼ã“ã®æ™‚ã®å­¦ã³ãŒãªã‘ã‚Œã°ã€PCã«ç¾ã—ã„ãƒ•ã‚©ãƒ³ãƒˆãŒå…¥ã‚‹ã“ã¨ã¯ãªã‹ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚"
            }
        ];

        let currentQuizIndex = 0;
        let currentModalWord = "";

        // --- æ©Ÿèƒ½: ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–è¡¨ç¤ºæ›´æ–°
            const btns = document.querySelectorAll('.tab-btn');
            if(tabId === 'fulltext') btns[0].classList.add('active');
            if(tabId === 'quiz') btns[1].classList.add('active');
            if(tabId === 'feed') btns[2].classList.add('active');
        }

        // --- æ©Ÿèƒ½: å˜èªãƒ¢ãƒ¼ãƒ€ãƒ« ---
        function openWord(key) {
            const data = wordData[key];
            if(!data) return;

            currentModalWord = key.replace(/_/g, " "); // éŸ³å£°å†ç”Ÿç”¨
            if(key === 'calligraphy' || key === 'typography') currentModalWord = key; // ä¿®æ­£

            document.getElementById('m-word').innerText = currentModalWord.charAt(0).toUpperCase() + currentModalWord.slice(1);
            document.getElementById('m-meaning').innerText = data.meaning;
            document.getElementById('m-desc').innerText = data.desc;

            const modal = document.getElementById('wordModal');
            modal.classList.add('open');
        }

        function closeModal(e) {
            if(e.target.classList.contains('modal-overlay')) {
                document.getElementById('wordModal').classList.remove('open');
            }
        }
        function closeModalDirect() {
            document.getElementById('wordModal').classList.remove('open');
        }

        function playCurrentWord() {
            if ('speechSynthesis' in window) {
                const u = new SpeechSynthesisUtterance(currentModalWord);
                u.lang = 'en-US';
                window.speechSynthesis.speak(u);
            }
        }

        // --- æ©Ÿèƒ½: ã‚¯ã‚¤ã‚º ---
        function loadQuiz() {
            const qData = questions[currentQuizIndex];
            document.getElementById('quiz-progress').innerText = `Q. ${currentQuizIndex + 1} / ${questions.length}`;
            document.getElementById('q-text').innerText = qData.q;
            document.getElementById('q-feedback').innerText = "";
            document.getElementById('q-feedback').style.color = "white";
            document.getElementById('next-btn').style.display = "none";

            const optionsDiv = document.getElementById('q-options');
            optionsDiv.innerHTML = ""; // ã‚¯ãƒªã‚¢

            qData.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex) {
            const qData = questions[currentQuizIndex];
            const feedbackEl = document.getElementById('q-feedback');
            
            if (selectedIndex === qData.ans) {
                feedbackEl.innerText = qData.feedback;
                feedbackEl.style.color = "#aaffaa"; // è–„ã„ç·‘
                document.getElementById('next-btn').style.display = "inline-block";
            } else {
                feedbackEl.innerText = "æ®‹å¿µ... ã‚‚ã†ä¸€åº¦æ–‡ç« ã‚’èª­ã¿ç›´ã—ã¦ã¿ã‚ˆã†ï¼";
                feedbackEl.style.color = "#ffcccc"; // è–„ã„èµ¤
            }
        }

        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex < questions.length) {
                loadQuiz();
            } else {
                document.getElementById('quiz-content').innerHTML = `
                    <div style="text-align:center; padding:20px;">
                        <h3>Congratulations!</h3>
                        <p>ç¬¬1ç« ã®å†…å®¹ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ãŸã­ã€‚</p>
                        <button onclick="currentQuizIndex=0; loadQuiz();" style="padding:10px 20px; border-radius:20px; border:none; cursor:pointer;">æœ€åˆã‹ã‚‰ã‚„ã‚‹</button>
                    </div>
                `;
            }
        }

        // åˆæœŸåŒ–
        loadQuiz();

    </script>
</body>
</html>
