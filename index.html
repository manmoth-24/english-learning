<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect the Dots - Learning Feed</title>
    <style>
        /* --- CSS ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾© --- */
        :root {
            --primary-color: #007bff;
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-color: #333;
            --highlight-color: #e7f3ff;
            --highlight-border: #007bff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* ã‚³ãƒ³ãƒ†ãƒŠï¼ˆã‚¹ãƒãƒ›å¹…ã‚’æ„è­˜ï¼‰ */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            background: var(--card-bg);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 { margin: 0; font-size: 1.2rem; }

        /* ãƒ—ãƒ¬å•é¡Œï¼ˆã‚¹ãƒˆãƒ¼ãƒªãƒ¼é¢¨ï¼‰ã‚¨ãƒªã‚¢ */
        .story-section {
            padding: 20px 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-bottom: 20px;
            text-align: center;
        }
        .quiz-box {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        .quiz-options button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border: none;
            border-radius: 20px;
            background: white;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }
        .quiz-options button:hover { background: #eee; }

        /* æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ (SNSé¢¨) */
        .post-card {
            background: var(--card-bg);
            margin-bottom: 15px;
            border-radius: 8px; /* ã‚¹ãƒãƒ›ãªã‚‰0ã§ã‚‚è‰¯ã„ãŒå°‘ã—ä¸¸ã */
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        /* æŠ•ç¨¿ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .post-header {
            display: flex;
            align-items: center;
            padding: 12px;
        }
        .avatar {
            width: 40px;
            height: 40px;
            background-color: #333;
            border-radius: 50%;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
        }
        .user-info h3 { margin: 0; font-size: 0.95rem; }
        .user-info span { font-size: 0.8rem; color: #65676b; }

        /* æŠ•ç¨¿æœ¬æ–‡ */
        .post-content {
            padding: 0 15px 15px 15px;
            font-size: 1rem;
        }

        /* é›£ã—ã„å˜èªã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .vocab {
            border-bottom: 2px dotted var(--highlight-border);
            background-color: var(--highlight-color);
            cursor: pointer;
            position: relative;
            font-weight: bold;
            color: #0056b3;
        }
        
        /* å˜èªã®æ„å‘³ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */
        .tooltip-box {
            display: none;
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            white-space: nowrap;
            z-index: 10;
        }
        .tooltip-box::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        .vocab.active .tooltip-box { display: block; }

        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ (ã„ã„ã­/ã‚³ãƒ¡ãƒ³ãƒˆ) */
        .post-actions {
            padding: 10px 15px;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
            display: flex;
            gap: 20px;
        }
        .action-btn {
            background: none;
            border: none;
            color: #65676b;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }
        .action-btn.liked { color: #e0245e; }

        /* ã‚³ãƒ¡ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .comment-section {
            padding: 10px 15px;
            background-color: #fcfcfc;
        }
        .comment-list {
            list-style: none;
            padding: 0;
            margin: 0 0 10px 0;
        }
        .comment-item {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        .comment-user { font-weight: bold; margin-right: 5px; }
        
        .comment-input-area {
            display: flex;
            gap: 10px;
        }
        .comment-input-area input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        .comment-input-area button {
            padding: 8px 15px;
            border: none;
            background-color: var(--primary-color);
            color: white;
            border-radius: 20px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <header>
        <h1>Unit: Power of Words</h1>
        <div style="font-size: 0.8rem;">User: <strong>Guest</strong></div>
    </header>

    <div class="container">
        <section class="story-section" id="preQuiz">
            <h2>Today's Question</h2>
            <div class="quiz-box">
                <p>Q. ç¬¬1æ®µè½ã§ã‚¸ãƒ§ãƒ–ã‚ºã¯ã€Œ3ã¤ã®è©±ã‚’ã™ã‚‹ã€ã¨è¨€ã£ã¦ã„ã¾ã™ãŒã€ãã‚Œã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                <div class="quiz-options">
                    <button onclick="checkAnswer(false)">A. Appleã®è£½å“è‡ªæ…¢</button>
                    <button onclick="checkAnswer(true)">B. ãŸã ã®å€‹äººçš„ãªèº«ã®ä¸Šè©±</button>
                </div>
                <p id="quizResult" style="margin-top:10px; font-weight:bold; display:none;"></p>
            </div>
        </section>

        <article class="post-card">
            <div class="post-header">
                <div class="avatar">SJ</div>
                <div class="user-info">
                    <h3>Steve Jobs</h3>
                    <span>Stanford University â€¢ Lesson 2</span>
                </div>
            </div>
            <div class="post-content">
                <p>
                    I am honored to be with you today at your 
                    <span class="vocab" data-meaning="å’æ¥­å¼">commencement<span class="tooltip-box">å’æ¥­å¼</span></span> 
                    from one of the finest universities in the world. Today I want to tell you three stories from my life. Thatâ€™s it. No big 
                    <span class="vocab" data-meaning="å–å¼• / å¤§ã—ãŸã“ã¨">deal<span class="tooltip-box">å–å¼• / å¤§ã—ãŸã“ã¨</span></span>. 
                    Just three stories.
                </p>
            </div>
            <div class="post-actions">
                <button class="action-btn" onclick="toggleLike(this)">â™¥ Like</button>
                <button class="action-btn">ğŸ’¬ Comment</button>
            </div>
            <div class="comment-section">
                <ul class="comment-list" id="comments-1">
                    <li class="comment-item"><span class="comment-user">Teacher:</span> commencement ã¯ã€Œé–‹å§‹ã€ã¨ã„ã†æ„å‘³ã‚‚ã‚ã‚‹ã‚ˆã€‚</li>
                </ul>
                <div class="comment-input-area">
                    <input type="text" placeholder="è³ªå•ã‚„ãƒ¡ãƒ¢ã‚’æ›¸ã..." id="input-1">
                    <button onclick="addComment('1')">Post</button>
                </div>
            </div>
        </article>

        <article class="post-card">
            <div class="post-header">
                <div class="avatar">SJ</div>
                <div class="user-info">
                    <h3>Steve Jobs</h3>
                    <span>Story 1: Connecting the Dots</span>
                </div>
            </div>
            <div class="post-content">
                <p>
                    The first story is about 
                    <span class="vocab" data-meaning="ç‚¹ã‚’ã¤ãªã">connecting the dots<span class="tooltip-box">ç‚¹ã‚’ã¤ãªã</span></span>.
                    I dropped out of Reed College after the first six months. I couldnâ€™t see the point in it. 
                    I had no idea what I wanted to do with my life and no idea how college was going to help me 
                    <span class="vocab" data-meaning="ç†è§£ã™ã‚‹ / è§£æ±ºã™ã‚‹">figure it out<span class="tooltip-box">ç†è§£ã™ã‚‹ / è§£æ±ºã™ã‚‹</span></span>.
                </p>
                <p>
                    So I decided to <span class="vocab" data-meaning="ä¸­é€€ã™ã‚‹">drop out<span class="tooltip-box">ä¸­é€€ã™ã‚‹</span></span> 
                    and believe that it would all work out OK.
                </p>
            </div>
            <div class="post-actions">
                <button class="action-btn" onclick="toggleLike(this)">â™¥ Like</button>
                <button class="action-btn">ğŸ’¬ Comment</button>
            </div>
            <div class="comment-section">
                <ul class="comment-list" id="comments-2">
                    <li class="comment-item"><span class="comment-user">UserA:</span> figure out = understand ã£ã¦ç¿’ã£ãŸï¼</li>
                    <li class="comment-item"><span class="comment-user">UserB:</span> ä¸­é€€ã™ã‚‹æ±ºæ–­åŠ›ãŒã™ã”ã„...</li>
                </ul>
                <div class="comment-input-area">
                    <input type="text" placeholder="è³ªå•ã‚„ãƒ¡ãƒ¢ã‚’æ›¸ã..." id="input-2">
                    <button onclick="addComment('2')">Post</button>
                </div>
            </div>
        </article>

        <article class="post-card">
            <div class="post-content" style="color:#888; text-align:center; padding:20px;">
                <p>... Loading next stories ...</p>
            </div>
        </article>

    </div>

    <script>
        // --- JavaScript æ©Ÿèƒ½ ---

        // 1. å˜èªã®æ„å‘³è¡¨ç¤ºï¼ˆãƒˆã‚°ãƒ«æ©Ÿèƒ½ï¼‰
        const vocabWords = document.querySelectorAll('.vocab');
        vocabWords.forEach(word => {
            word.addEventListener('click', function(e) {
                // ä»–ã®é–‹ã„ã¦ã„ã‚‹ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’é–‰ã˜ã‚‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
                vocabWords.forEach(w => {
                    if (w !== this) w.classList.remove('active');
                });
                // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå˜èªã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’åˆ‡ã‚Šæ›¿ãˆ
                this.classList.toggle('active');
                e.stopPropagation(); // è¦ªè¦ç´ ã¸ã®ã‚¤ãƒ™ãƒ³ãƒˆä¼æ’­ã‚’æ­¢ã‚ã‚‹
            });
        });

        // ç”»é¢ã®ä½•ã‚‚ãªã„ã¨ã“ã‚ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’é–‰ã˜ã‚‹
        document.addEventListener('click', function() {
            vocabWords.forEach(w => w.classList.remove('active'));
        });

        // 2. ã‚¯ã‚¤ã‚ºæ©Ÿèƒ½
        function checkAnswer(isCorrect) {
            const resultBox = document.getElementById('quizResult');
            resultBox.style.display = 'block';
            if (isCorrect) {
                resultBox.innerText = "Correct! æ­£è§£ã§ã™ã€‚ã€Œå¤§ã—ãŸã“ã¨ã˜ã‚ƒãªã„ã€ãŸã ã®3ã¤ã®è©±ã ã€ã¨è¬™éœã—ã¦ã„ã¾ã™ã€‚";
                resultBox.style.color = "#aaffaa";
            } else {
                resultBox.innerText = "Try again! è‡ªæ…¢è©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚";
                resultBox.style.color = "#ffaaaa";
            }
        }

        // 3. ã„ã„ã­æ©Ÿèƒ½
        function toggleLike(btn) {
            btn.classList.toggle('liked');
            if (btn.classList.contains('liked')) {
                btn.innerText = "â™¥ Liked";
            } else {
                btn.innerText = "â™¥ Like";
            }
        }

        // 4. ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿æ©Ÿèƒ½
        function addComment(id) {
            const inputField = document.getElementById('input-' + id);
            const list = document.getElementById('comments-' + id);
            const text = inputField.value;

            if (text.trim() === "") return; // ç©ºæ–‡å­—ãªã‚‰ä½•ã‚‚ã—ãªã„

            // æ–°ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´ ã‚’ä½œæˆ
            const newLi = document.createElement('li');
            newLi.className = 'comment-item';
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ä»®ã§ "You" ã¨ã™ã‚‹
            newLi.innerHTML = `<span class="comment-user">You:</span> ${text}`;
            
            // ãƒªã‚¹ãƒˆã«è¿½åŠ 
            list.appendChild(newLi);

            // å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
            inputField.value = "";
        }
    </script>
</body>
</html>
